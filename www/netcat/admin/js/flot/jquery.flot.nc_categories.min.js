!function(i){function r(i,r,e,o){var n="nc_categories"==r.xaxis.options.mode,s="nc_categories"==r.yaxis.options.mode;if(n||s){var t=o.format;if(!t){var a=r;if(t=[],t.push({x:!0,number:!0,required:!0}),t.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var c=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);t.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:c}),a.bars.horizontal&&(delete t[t.length-1].y,t[t.length-1].x=!0)}o.format=t}for(var u=0;u<t.length;++u)t[u].x&&n&&(t[u].number=!1),t[u].y&&s&&(t[u].number=!1);var h=70,f=nc(i.getCanvas()).width()-100;this.showEachIndex=Math.ceil(e.length/(f/h))}}function e(i){var r=-1;for(var e in i)i[e]>r&&(r=i[e]);return r+1}function o(i){var r=[];for(var e in i.categories){var o=i.categories[e];if(o>=i.min&&o<=i.max){if(this.showEachIndex>1&&o%this.showEachIndex!==0)continue;"tickFormatter"in i&&(e=i.tickFormatter(e)),r.push([o,e])}}return r.sort(function(i,r){return i[0]-r[0]}),r}function n(r,e,n){if("nc_categories"==r[e].options.mode){if(!r[e].categories){var t={},a=r[e].options.categories||{};if(i.isArray(a))for(var c=0;c<a.length;++c)t[a[c]]=c;else for(var u in a)t[u]=a[u];r[e].categories=t}r[e].options.ticks||(r[e].options.ticks=o),s(n,e,r[e].categories)}}function s(i,r,o){for(var n=i.points,s=i.pointsize,t=i.format,a=r.charAt(0),c=e(o),u=0;u<n.length;u+=s)if(null!=n[u])for(var h=0;s>h;++h){var f=n[u+h];null!=f&&t[h][a]&&(f in o||(o[f]=c,++c),n[u+h]=o[f])}}function t(i,r,e){n(r,"xaxis",e),n(r,"yaxis",e)}function a(i){i.hooks.processRawData.push(r),i.hooks.processDatapoints.push(t)}var c={xaxis:{categories:null},yaxis:{categories:null}};i.plot.plugins.push({init:a,options:c,name:"nc_categories",version:"1.0"})}(jQuery);